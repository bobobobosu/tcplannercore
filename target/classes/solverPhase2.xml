<?xml version="1.0" encoding="UTF-8"?>
<solver>
    <!--<environmentMode>FULL_ASSERT</environmentMode>--><!-- To slowly prove there are no bugs in this code -->
    <moveThreadCount>AUTO</moveThreadCount> To solve faster by saturating multiple CPU cores
<!--    <daemon>true</daemon>-->
    <solutionClass>bo.tc.tcplanner.domain.Schedule</solutionClass>
    <entityClass>bo.tc.tcplanner.domain.Allocation</entityClass>

    <scoreDirectorFactory>
        <scoreDrl>TCRules_P2.drl</scoreDrl>
    </scoreDirectorFactory>
    <termination>
<!--        <unimprovedSecondsSpentLimit>30</unimprovedSecondsSpentLimit>-->
    </termination>

    <localSearch>
        <unionMoveSelector>
            <swapMoveSelector>
                <filterClass>bo.tc.tcplanner.domain.solver.filters.DummySwapMoveFilter</filterClass>
                <variableNameInclude>executionMode</variableNameInclude>
                <variableNameInclude>progressdelta</variableNameInclude>
            </swapMoveSelector>
            <changeMoveSelector>
                <entitySelector>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.UnlockedAllocationFilter</filterClass>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.ChangeableAllocationFilter</filterClass>
                </entitySelector>
                <valueSelector variableName="executionMode"/>
            </changeMoveSelector>
            <changeMoveSelector>
                <entitySelector>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.UnlockedAllocationFilter</filterClass>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.MovableAllocationFilter</filterClass>
                </entitySelector>
                <valueSelector variableName="delay"/>
            </changeMoveSelector>
            <changeMoveSelector>
                <entitySelector>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.UnlockedAllocationFilter</filterClass>
                    <filterClass>bo.tc.tcplanner.domain.solver.filters.NotDummyAllocationFilter</filterClass>
                </entitySelector>
                <valueSelector variableName="progressdelta"/>
            </changeMoveSelector>
        </unionMoveSelector>
        <acceptor>
            <lateAcceptanceSize>1</lateAcceptanceSize>
        </acceptor>
        <forager>
            <pickEarlyType>NEVER</pickEarlyType>
            <acceptedCountLimit>650</acceptedCountLimit>
            <finalistPodiumType>STRATEGIC_OSCILLATION_BY_LEVEL</finalistPodiumType>
        </forager>
    </localSearch>
</solver>
